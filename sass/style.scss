@use "sass:math";
@use "sass:list";

$orange-color: #f05137;
$indigo-color: #486cdf;
$blue-color: #007ad6;
$teal-color: #027ba7;

$primary-color: $indigo-color;

$color-weight: math.div(100%, 32);
$background-color: mix($primary-color, white, $color-weight);
$foreground-color: mix($primary-color, black, $color-weight);

$breakpoint-small: 512px;
$breakpoint-medium: 768px;
$breakpoint-large: 1216px;

@function weight($amount) {
  @return math.pow(0.5, $amount);
}

@function lighten($color, $amount) {
  @return mix($color, $background-color, 100% * weight($amount));
}

@function shadow($blur, $color) {
  @return 0 math.div($blur, 4) $blur $color,
    0 math.div($blur, 4) $blur rgba(black, weight(4));
}

@function inset-shadow($blur) {
  $offset: math.div($blur, 2);
  @return inset 0 - $offset $offset $blur rgba(white, weight(3)),
    inset $offset 0 - $offset $blur rgba(black, weight(5));
}

body {
  background-color: $background-color;

  font-size: 16px;
  color: $foreground-color;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
    Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;

  @media screen and (min-width: $breakpoint-medium) {
    font-size: 20px;
  }
}

@mixin heading-color($color) {
  color: $color;
  text-shadow: shadow(1em, rgba($color, weight(3)));
}

h1,
h2 {
  @include heading-color($foreground-color);

  text-align: center;
  line-height: 0.875;
}

h1 {
  font-size: 4em;
  font-weight: 900;
}

h2 {
  font-size: 3em;
  font-weight: 700;
}

p {
  max-width: 48ch;

  line-height: 1.5;
  text-align: justify;
  color: lighten($foreground-color, 1);

  * + & {
    margin-top: 4em;
  }
}

header > section,
main > section {
  display: flex;

  min-height: 100vh;
  box-sizing: border-box;
}

header > section {
  flex-direction: column;

  $padding: 3em;
  padding: $padding;

  & > div {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;

    &:first-child {
      margin-bottom: $padding;
    }
  }

  @media screen and (min-width: $breakpoint-small) {
    $padding: 6em;
    padding: $padding;

    & > div:first-child {
      margin-bottom: $padding;
    }
  }

  @media screen and (min-width: $breakpoint-medium) {
    $padding: 8em;
    padding: $padding;

    & > div:first-child {
      margin-bottom: $padding;
    }
  }

  @media screen and (min-width: $breakpoint-large) {
    flex-direction: row;

    $padding: 4em;
    padding: $padding;

    & > div {
      &:first-child {
        flex: 1;
      }

      &:last-child {
        flex: 1;

        min-width: 448px;
        max-width: 640px;
      }

      &:first-child {
        margin-bottom: 0;
        margin-right: $padding;
      }
    }
  }
}

.icon-list {
  width: 100%;

  li {
    display: flex;
    align-items: center;

    $heading-margin: 1em;

    &:nth-child(odd) {
      flex-direction: row;

      p {
        margin-left: $heading-margin;
      }
    }

    &:nth-child(even) {
      flex-direction: row-reverse;

      p {
        margin-right: $heading-margin;
      }
    }

    &:not(:first-child) {
      margin-top: 2em;
    }
  }

  div {
    display: flex;
    align-items: center;
    justify-content: center;

    border-radius: 50%;
  }

  p {
    position: relative;
    transform-style: preserve-3d;

    margin: 0;

    font-size: 2em;
    font-weight: 700;
    line-height: 0.875;
    color: $foreground-color;

    &::after {
      content: "";

      position: absolute;

      $width: 0.25em;
      left: -$width;
      right: -$width;
      bottom: 0;
      height: $width;

      transform: translateZ(-1px);
    }
  }

  $icon-size-small: (80px, 56px);
  $icon-size-large: (96px, 64px);

  @mixin icon-size($icon-size) {
    div {
      $size: nth($icon-size, 1);
      width: $size;
      height: $size;

      img {
        $size: nth($icon-size, 2);
        width: $size;
        height: $size;
      }
    }
  }

  @include icon-size($icon-size-small);

  @media screen and (min-width: $breakpoint-medium) {
    @include icon-size($icon-size-large);
  }

  @mixin icon-color($color) {
    div {
      background-color: $color;
    }

    p {
      text-shadow: shadow(1em, rgba($color, 0.25));

      &::after {
        background-color: rgba($color, 0.25);
      }
    }
  }

  @mixin icon-shadow($color, $icon-size) {
    div {
      box-shadow: inset-shadow(math.div($icon-size, 6)),
        shadow(math.div($icon-size, 2), rgba($color, 0.25));
    }
  }

  @mixin icon($color) {
    @include icon-color($color);
    @include icon-shadow($color, nth($icon-size-small, 1));

    @media screen and (min-width: $breakpoint-medium) {
      @include icon-shadow($color, nth($icon-size-large, 1));
    }
  }

  li.swift {
    @include icon($orange-color);
  }

  li.swiftui {
    @include icon($indigo-color);
  }

  li.react {
    @include icon($blue-color);
  }

  li.typescript {
    @include icon($teal-color);
  }
}

main > section {
  padding: 4em;
  background-color: $primary-color;
  box-shadow: inset 0 0 8em rgba(black, weight(4)),
    0 0 4em rgba($primary-color, 0.25);

  h2 {
    @include heading-color($background-color);
  }
}

footer {
  padding: 2em;

  p {
    margin: 0 auto;

    text-align: center;
    color: lighten($foreground-color, 2);
  }
}
